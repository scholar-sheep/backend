(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"3edf":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHh lpR fFf"}},[a("q-header",{staticClass:"bg-primary",attrs:{"height-hint":"100"}},[a("div",{staticClass:"row no-wrap"},[a("q-toolbar",{staticClass:"col bg-primary"},[a("q-toolbar-title",{staticClass:"row items-center"},[a("my-head",{staticClass:"cursor-pointer",attrs:{icon:"school"},on:{click:t.toMain}}),a("span",{staticClass:"cursor-pointer",on:{click:function(e){return t.toMain()}}},[t._v("ScholarSheep")])],1)],1),"main"!==t.path?a("search-tool"):t._e(),a("q-toolbar",{staticClass:"col bg-primary text-white q-gutter-x-md"},[a("q-space"),t.isLogin?t._e():a("div",[a("q-btn",{attrs:{flat:"",unelevated:""},on:{click:function(e){return t.toLogin()}}},[t._v("加入")])],1),a("div",{staticClass:"cursor-pointer",on:{click:function(e){return t.toUser()}}},[a("my-head",{attrs:{head:t.head,size:"36px"}})],1),a("q-btn",{attrs:{flat:"",round:"",icon:"more_vert"}},[a("q-menu",{attrs:{"auto-close":""}},[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",{attrs:{clickable:""}},[t.isLogin?a("q-item-section",{on:{click:t.logOut}},[t._v("退出登录")]):a("q-item-section",{on:{click:t.toLogin}},[t._v("登录")])],1),a("q-item",{attrs:{clickable:""},on:{click:t.handleExpert}},[a("q-item-section",[t._v("进入我的门户")])],1)],1)],1)],1)],1)],1)]),a("apply-form",{attrs:{show:t.applyForm},on:{closeForm:t.closeForm}}),a("q-drawer",{attrs:{"show-if-above":"",side:"left",width:200,bordered:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("q-list",{staticClass:"rounded-borders"},t._l(t.routeList,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.name,attrs:{clickable:"",active:t.routeName===e.name,"active-class":"text-accent bg-dark"},on:{click:function(a){return t.toPage(e)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{staticStyle:{"padding-left":"100%"},attrs:{name:e.icon}})],1),a("q-item-section",{staticClass:"flex-center"},[t._v("\n          "+t._s(e.label)+"\n        ")])],1)})),1)],1),a("q-page-container",{staticStyle:{height:"100vh"}},[a("q-scroll-area",{staticStyle:{width:"100%",height:"100%"}},[a("router-view")],1)],1),a("q-footer",{staticClass:"bg-primary text-white"},[a("q-toolbar",[a("q-toolbar-title",{staticClass:"row items-center"},[a("q-avatar",[a("img",{attrs:{src:"https://cdn.quasar.dev/logo/svg/quasar-logo.svg"}})]),t._v("\n        ScholarSheep\n      ")],1),t._v("\n        绵羊学术——帮助你获得奖学金\n    ")],1)],1)],1)},i=[],r=(a("b0c0"),a("4ec3")),n={name:"UserLayout",data:function(){return{drawer:!0,uId:2,splitterModel:17,head:"",thumbStyle:{right:"2px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},applyForm:!1}},computed:{routeName:function(){return this.$route.name},path:function(){return"/"===this.$route.path?"main":"other"},isLogin:function(){return localStorage.getItem("userId")},routeList:function(){var t=[];return t.push({name:"UserInfo",params:{uId:this.uId},icon:"o_account_circle",label:"个人信息"}),t.push({name:"Collection",params:{uId:this.uId},icon:"star_outline",label:"收藏夹"}),t.push({name:"Follows",params:{uId:this.uId},icon:"o_visibility",label:"关注"}),t.push({name:"Messages",params:{uId:this.uId},icon:"o_email",label:"私信"}),t}},mounted:function(){console.log(this.$route.name),this.init()},methods:{init:function(){var t=this;this.uId=this.$route.params.uId,console.log(this.uId),this.uId&&Object(r["t"])(this.uId).then((function(e){200===e.status&&(console.log("init"+e.data),t.head="https://cdn.quasar.dev/img/avatar.png")}))},toPage:function(t){this.$router.push({name:t.name,params:t.params})},toUser:function(){console.log("toUser"+this.uId),null!==localStorage.getItem("userId")?this.$router.push({name:"User",params:{uId:this.uId}}):this.$q.notify({color:"negative",textColor:"white",icon:"warning",message:"请先登录"})},toMain:function(){this.$router.push({name:"Main"})},toLogin:function(){this.$router.push({name:"Login"})},logOut:function(){localStorage.removeItem("token"),localStorage.removeItem("userId"),console.log("logout"+localStorage.getItem("userId")+localStorage.getItem("token")),this.$q.notify("退出登录"),this.isLogin=!1,this.init(),this.$router.push({name:"Main"})},handleExpert:function(){var t=this;Object(r["u"])().then((function(e){200===e.status&&(200===e.data.type?t.$router.push({name:"expMain",params:{expId:"123"}}):4003===e.data.type&&(t.applyForm=!0))})).catch((function(t){console.log(t)}))},closeForm:function(t){this.applyForm=t}}},s=n,c=(a("e80b"),a("c701")),l=a("4d5a"),u=a("e359"),h=a("65c6"),m=a("6ac5"),d=a("2c91"),p=a("9c40"),g=a("4e73"),f=a("1c1c"),b=a("66e5"),v=a("4074"),q=a("9404"),I=a("0016"),w=a("09e3"),y=a("4983"),_=a("7ff0"),k=a("cb32"),S=a("714f"),x=a("3117"),C=a.n(x),Q=Object(c["a"])(s,o,i,!1,null,"19d80bf0",null);e["default"]=Q.exports;C()(Q,"components",{QLayout:l["a"],QHeader:u["a"],QToolbar:h["a"],QToolbarTitle:m["a"],QSpace:d["a"],QBtn:p["a"],QMenu:g["a"],QList:f["a"],QItem:b["a"],QItemSection:v["a"],QDrawer:q["a"],QIcon:I["a"],QPageContainer:w["a"],QScrollArea:y["a"],QFooter:_["a"],QAvatar:k["a"]}),C()(Q,"directives",{Ripple:S["a"]})},e41b:function(t,e,a){},e80b:function(t,e,a){"use strict";a("e41b")}}]);