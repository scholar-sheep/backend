(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"013f":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-form"},[n("q-card",{staticClass:"q-gutter-y-none",attrs:{flat:""}},[n("q-form",{ref:"loginForm",staticClass:"q-gutter-md",on:{submit:e.onSubmit,reset:e.onReset}},["Username"===e.loginType?n("q-input",{attrs:{filled:"",label:"用户名",rules:[function(e){return e&&e.length>0||"请您务必输入用户名"}]},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}):e._e(),"Tel"===e.loginType?n("q-input",{attrs:{filled:"",type:"tel",label:"手机","lazy-rules":"",rules:e.phoneRules},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}):e._e(),n("q-input",{attrs:{filled:"",type:"password",label:"密码",rules:e.pwdRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",{staticClass:"row justify-between"},[n("div",{},[n("q-btn",{attrs:{label:"忘记密码",dense:"",unelevated:"",color:"negative",flat:""},on:{click:function(t){return e.toPwd()}}})],1),n("div",{},[n("q-btn",{attrs:{label:"登录",type:"submit",color:"dark",unelevated:""}})],1),n("div",{},[n("q-btn",{attrs:{label:"去注册",dense:"",unelevated:""},on:{click:function(t){return e.toRegister()}}})],1)]),n("q-separator"),n("div",{staticClass:"items-center row justify-evenly"},[n("q-btn",{attrs:{icon:"fas fa-mobile-alt",flat:"",round:"",dense:""},on:{click:function(t){e.loginType="Tel"}}}),n("q-btn",{attrs:{icon:"fas fa-id-badge",flat:"",round:"",dense:""},on:{click:function(t){e.loginType="Username"}}}),n("q-btn",{attrs:{icon:"fab fa-github",flat:"",round:"",dense:""}})],1)],1)],1)],1)},a=[],l=(n("b0c0"),n("4ec3")),s={name:"Login",data:function(){return{name:null,phone:null,password:null,phoneRules:[function(e){return e&&e.length>0||"请务必输入手机号"},function(e){return e&&11==e.length||"请输入11位手机号"}],pwdRules:[function(e){return e&&e.length>0||"请务必输入密码"},function(e){return e&&e.length>=6&&e.length<=18||"密码长度在6-18字符之间"}],isPwd:!0,loginType:"Username"}},mounted:function(){},methods:{onSubmit:function(){var e=this;this.$refs.loginForm.validate().then((function(t){t&&Object(l["f"])(e.name,e.password).then((function(t){console.log(t),200===t.status&&(e.$q.notify({color:"positive",textColor:"white",message:"登录成功！"}),localStorage.setItem("token",t.data.token),localStorage.setItem("userId",t.data.userId),e.$router.push({name:"Main",params:{userId:t.data.userId}}))})).catch((function(t){console.log(t),e.$q.notify({color:"negative",textColor:"white",icon:"warning",message:"登录失败"})}))}))},onReset:function(){this.name=null,this.age=null,this.accept=!1},toRegister:function(){this.$router.push({name:"Register"})},toPwd:function(){console.log("忘记密码")}}},i=s,r=n("2877"),u=n("f09f"),c=n("0378"),d=n("27f9"),f=n("9c40"),p=n("eb85"),m=n("eebe"),g=n.n(m),b=Object(r["a"])(i,o,a,!1,null,"1e7ffbed",null);t["default"]=b.exports;g()(b,"components",{QCard:u["a"],QForm:c["a"],QInput:d["a"],QBtn:f["a"],QSeparator:p["a"]})}}]);